(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{136:function(e,t,a){},141:function(e,t,a){},163:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(36),r=a.n(s),i=(a(136),a(137),a(138),a(139),a(140),a(141),a(23)),o=a(27),l=a(2),d=a.n(l),j=a(5),u=a(3),b=a(4),h=a(9),m=a(6),p=a(7),O=a(15),v=a.n(O),x=a(0),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={enlace:"",categoria:"",enlaces:[],id:""},n.onGuardar=n.onGuardar.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/enlace");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({enlaces:a.enlaces});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onGuardar",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="POST",n="http://127.0.0.1:8000/api/enlace",this.state.id&&(a="PUT",n=n+"/"+this.state.id),e.next=6,fetch(n,{method:a,headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({enlace:this.state.enlace,categoria:this.state.categoria})});case 6:return c=e.sent,e.next=9,c.json();case 9:(s=e.sent).success?(this.setState({enlaces:s.enlaces,id:"",enlace:"",categoria:""}),v.a.alert("Procesamiento","Completado!")):console.log(s);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onActualizar",value:function(e){this.setState({enlace:e.enlace,categoria:e.categoria,id:e.id})}},{key:"categoriaName",value:function(e){return["","manga","anime"][e]}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsxs)("form",{action:"",className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title",children:"Formulario"}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{className:"form-label",htmlFor:"inputEnlace",children:"Enlace"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"inputEnlace",onChange:function(t){return e.setState({enlace:t.target.value})},value:this.state.enlace})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{className:"form-label",htmlFor:"inputCategoria",children:"Categoria"}),Object(x.jsxs)("select",{className:"form-control",id:"inputCategoria",onChange:function(t){return e.setState({categoria:t.target.value})},value:this.state.categoria,children:[Object(x.jsx)("option",{value:"-1",children:"Seleccione"}),Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"2",children:"Anime"})]})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("button",{className:"btn btn-primary",onClick:this.onGuardar,children:"Guardar"}),Object(x.jsxs)("p",{children:[this.state.enlace," - ",this.state.categoria]})]})]}),this.state.enlaces.map((function(t){return Object(x.jsxs)("p",{children:[Object(x.jsx)("a",{href:t.enlace,target:"_blank",rel:"noreferrer",children:t.enlace}),Object(x.jsxs)("span",{children:["(",e.categoriaName(t.categoria),")"]}),Object(x.jsx)("button",{onClick:e.onActualizar.bind(e,t),className:"btn btn-secondary",children:" Actualizar"})]})}))]})}}]),a}(c.a.Component),g=a(69),y=a(88),N=a(54),k=a(26),C=a(75),S=a(124),w=a(126),_=a(130),E=a(125),D=a.n(E),I=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,note:{title:"",content:"",created_at:""},notebooksCurrent:[],moveTo:"",order:"desc",notesCurrent:[]},e.handleClose=function(){e.setState({show:!1})},e.onClickOrder=function(){"desc"===e.state.order?e.setState({order:"asc"}):e.setState({order:"desc"}),e.setState({notesCurrent:D.a.orderBy(e.state.notesCurrent,["title"],[e.state.order])})},e}return Object(b.a)(a,[{key:"handleShow",value:function(e){var t=this.props.books.findIndex((function(t){return t.id===e.note_book_id})),a=Object(k.a)(this.props.books);a.splice(t,1),this.setState({show:!0,note:e,notebooksCurrent:a})}},{key:"handleChange",value:function(e){this.setState({moveTo:e.target.value})}},{key:"moverNote",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://127.0.0.1:8000/api/note/".concat(this.state.note.id,"/move"),{method:"PUT",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({moveto:this.state.moveTo})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,v.a.alert("Completado!"),console.log(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.notes!==this.props.notes&&this.setState({notesCurrent:e.notes})}},{key:"render",value:function(){var e=this,t="",a=0,n=this.state.note;return this.props.notebook&&(t=this.props.notebook.title,a=this.props.notes.length),Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{children:["Notebook: ",t," (notes:  ",a,")"]}),Object(x.jsx)(w.a,{children:Object(x.jsx)(_.a,{variant:"secondary",onClick:this.onClickOrder,children:this.state.order.toUpperCase()})}),Object(x.jsx)(g.a,{children:this.state.notesCurrent.map((function(t){return Object(x.jsx)(g.a.Item,{variant:"secondary",action:!0,onClick:e.handleShow.bind(e,t),children:t.title},t.id)}))}),Object(x.jsxs)(C.a,{show:this.state.show,onHide:this.handleClose,backdrop:"static",size:"lg",children:[Object(x.jsx)(C.a.Header,{closeButton:!0,children:Object(x.jsxs)(C.a.Title,{children:[n.title,"  (fecha creacion :",n.date," ",n.time,")"]})}),Object(x.jsxs)(C.a.Body,{children:[Object(x.jsxs)(y.a,{children:[Object(x.jsx)(N.a,{children:Object(x.jsx)("b",{children:"Mover a "})}),Object(x.jsx)(N.a,{children:Object(x.jsxs)("select",{className:"form-select",value:this.state.moveTo,onChange:this.handleChange.bind(this),children:[Object(x.jsx)("option",{value:"-1",children:"seleccione"}),this.state.notebooksCurrent.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title},e.id)}))]})}),Object(x.jsx)(N.a,{children:Object(x.jsx)("button",{className:"btn btn-primary",onClick:this.moverNote.bind(this),children:"ok"})})]}),Object(x.jsx)("div",{children:Object(S.a)(n.content?n.content:"")})]})]})]})}}]),a}(c.a.Component),A=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={notebooks:[],notes:[],notebook:null},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/notebooks");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({notebooks:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClick",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://127.0.0.1:8000/api/login",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({email:"jkcraftdom@gmail.com",password:"S0p0rt3web"})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onNotesClick",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({notebook:t}),e.next=3,fetch("http://127.0.0.1:8000/api/notebooks/".concat(t.id,"/notes"));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({notes:n});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(x.jsxs)(y.a,{children:[Object(x.jsx)("h2",{className:"App",children:" Notebooks"}),Object(x.jsx)(N.a,{xs:1,children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.onClick,children:"Login"})}),Object(x.jsxs)(N.a,{xs:5,children:[Object(x.jsxs)("h3",{children:["Cantidad notebooks: ",this.state.notebooks.length]}),Object(x.jsx)(g.a,{children:this.state.notebooks.map((function(t){return Object(x.jsxs)(g.a.Item,{variant:"primary",action:!0,onClick:e.onNotesClick.bind(e,t),children:[t.title," - ",t.cantidad," - ",t.created_at]},t.id)}))})]}),Object(x.jsx)(N.a,{xs:5,children:Object(x.jsx)(I,{notebook:this.state.notebook,notes:this.state.notes,books:this.state.notebooks})})]})}}]),a}(c.a.Component),P=[{name:"Links",link:"/enlaces"},{name:"Comics",link:"/mangas"},{name:"Novels",link:"/novels"},{name:"Djs",link:"/dj"},{name:"Cosplayers",link:"/cosplayer"},{name:"Hentais",link:"/hentai"},{name:"Scanlations",link:"/scanlation"},{name:"Examples",link:"/examples"}],T=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"/",children:"App"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(x.jsx)("ul",{className:"navbar-nav",children:P.map((function(e,t){var a=0===t?"nav-link active":"nav-link";return Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{className:a,to:e.link,children:e.name})},t)}))})})]})})}}]),a}(c.a.Component),B=a(8);a(163);var F=function(){return Object(x.jsxs)("div",{className:"lsd-grid",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})};var U=function(e,t){return function(a){return function(n){Object(m.a)(s,n);var c=Object(p.a)(s);function s(){return Object(u.a)(this,s),c.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){var n=this.props.isQuery?"Sin registros":Object(x.jsx)(F,{});return 0===this.props[e].length?Object(x.jsx)("tfoot",{children:Object(x.jsx)("tr",{className:"table-active",children:Object(x.jsx)("td",{colSpan:t,className:"text-center",children:n})})}):Object(x.jsx)(a,Object(B.a)({},this.props))}}]),s}(n.Component)}}("comics",5)((function(e){var t=e.comics,a=e.onHoverPost;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("tbody",{id:"mw_tbody",children:t.map((function(e){var t=e.name.length>100?e.name.substring(0,70)+"...":e.name;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pointer",onClick:function(t){return function(e,t){a(e,t)}(t,e.imagen)},children:t}),Object(x.jsxs)("td",{children:[Object(x.jsx)("span",{className:"badge bg-secondary me-2",children:e.type_name.name}),1===e.madure?Object(x.jsx)("span",{className:"badge bg-danger",children:"+18"}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"badge bg-secondary",children:e.state})}),Object(x.jsxs)("td",{children:[Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm me-2",to:"/manga/create/".concat(e.id),children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)("button",{className:"btn btn-danger btn-sm",children:Object(x.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)}))})})})),M=a(18),R=a.n(M);var W=R.a.create({baseURL:"http://127.0.0.1:8000/api"}),H={headers:{Accept:"Applcation/json","Content-Type":"Application/json"}},L={headers:{Accept:"application/json","content-type":"multipart/form-data"}},G={domain:"http://127.0.0.1:8000/api",makeUrl:function(e){return G.domain+e},axiosInstance:W},K=G,Q=a(89),J=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={comics:[],total:0,query:"",isQuery:!1},n.onQuery=n.onQuery.bind(Object(h.a)(n)),n.onChange=n.onChange.bind(Object(h.a)(n)),n.onHoverPost=n.onHoverPost.bind(Object(h.a)(n)),n.onFilter=n.onFilter.bind(Object(h.a)(n)),n.popper=null,n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/comics").then((function(e){return e.json()}));case 2:t=e.sent,this.setState({comics:t.comics,total:t.total});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onQuery",value:function(e){"Enter"===e.key&&this.onFilter()}},{key:"onFilter",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isQuery:!0}),t=document.getElementById("f_type").value,a=this.state.query,n="/comics/more/query?","0"!==t&&(n+="t="+t),""!==a&&(n+=n.includes("t=")?"&q=":"q=",n+=a),e.next=8,R.a.get(K.makeUrl(n)).then((function(e){return e}));case 8:c=e.sent,s=c.data,this.setState({comics:s.comics});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState({query:e.target.value})}},{key:"onHoverPost",value:function(e,t){var a=document.getElementById("tooltip");if(null!==t){var n=a.firstChild;a.setAttribute("data-show",""),n.src=t,this.popper=Object(Q.a)(e.target,a,{placement:"top"})}else a.removeAttribute("data-show")}},{key:"render",value:function(){var e=this.state,t=e.comics,a=e.total,n=e.query,c=e.isQuery;return Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("b",{children:"Manga List "})}),Object(x.jsx)("div",{className:"col-xl-1 offset-xl-9",children:Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm",to:"/manga/create",children:"Agregar"})})]})})}),Object(x.jsx)("div",{className:"card mangas-div",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row mb-2",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsxs)("h5",{className:"cart-title",children:["All mangas (",t.length,"/",a,")"]})}),Object(x.jsx)("div",{className:"col-xl-3",children:Object(x.jsxs)("select",{onChange:this.onFilter,name:"f_type",id:"f_type",className:"form-control me-2",children:[Object(x.jsx)("option",{value:"0",children:"Fitrar por ..."}),Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"2",children:"Manwhua"}),Object(x.jsx)("option",{value:"3",children:"Manhua"}),Object(x.jsx)("option",{value:"4",children:"Weebtoon"})]})}),Object(x.jsx)("div",{className:"col-xl-3",children:Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("input",{onKeyDown:this.onQuery,onChange:this.onChange,value:n,name:"query",type:"text",className:"form-control",placeholder:"Buscar ..."}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:"Seach"})})]})})]}),Object(x.jsxs)("div",{id:"tooltip",className:"text-center",children:[Object(x.jsx)("img",{className:"img-comic rounded",src:"...",alt:"comic"}),Object(x.jsx)("div",{id:"arrow","data-popper-arrow":!0})]}),Object(x.jsxs)("table",{className:"table table-striped",children:[Object(x.jsx)("thead",{className:"table-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{width:"65%"},children:"Name"}),Object(x.jsx)("th",{children:"Type"}),Object(x.jsx)("th",{children:"State"}),Object(x.jsx)("th",{children:"Acci\xf3n"})]})}),Object(x.jsx)(U,{isQuery:c,comics:t,onHoverPost:this.onHoverPost})]})]})})]})}}]),a}(c.a.Component),V=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onDelete=n.onDelete.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onDelete",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this,v.a.confirm("Confirm","Sure you delete?",Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/"+t.props.url,{method:"delete",headers:{Accept:"application/json"},body:JSON.stringify({_method:"DELETE"})}).then((function(e){return e.json()}));case 2:a=e.sent,v.a.success(a.response),t.props.onPostDeleting(a);case 5:case"end":return e.stop()}}),e)}))),(function(){}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("button",{onClick:this.onDelete,className:"btn btn-danger btn-sm me-2",children:Object(x.jsx)("i",{className:"bi bi-trash"})})}}]),a}(n.Component);var q=function(e){var t=e.title,a=e.children;return Object(x.jsxs)("div",{className:"row mb-2",children:[Object(x.jsx)("div",{className:"col-xl-8",children:Object(x.jsx)("h5",{className:"card-title",children:t})}),Object(x.jsx)("div",{className:"col-xl-4",children:a})]})};var z=function(e){var t=e.label,a=e.children,n=e.margin?"input-group mt-2":"input-group";return Object(x.jsxs)("div",{className:n,children:[Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("small",{children:t})}),a]})},X=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={chapters:[],chaptersCreate:[],counterCreate:0},n.onAddChapter=n.onAddChapter.bind(Object(h.a)(n)),n.onPostDeleting=n.onPostDeleting.bind(Object(h.a)(n)),n.onCreateChapter=n.onCreateChapter.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=this.padNumero(e.getDate())+"."+this.padNumero(e.getMonth()+1)+"."+e.getFullYear();document.getElementsByName("ch_date")[0].value=t}},{key:"componentDidUpdate",value:function(e){this.props.chaptersCreate!==e.chaptersCreate&&this.setState({chaptersCreate:this.props.chaptersCreate})}},{key:"onAddChapter",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("formChapter"),n=a.elements.language.value,c=a.elements.chapter.value,s=a.elements.ch_date.value,r=a.elements.range.value,i=a.elements.is_censured.checked?1:0;fetch("http://127.0.0.1:8000/api/comic/".concat(this.props.manga,"/chapter"),{method:"post",headers:{Accept:"Applcation/json","Content-Type":"Application/json"},body:JSON.stringify({language:n,chapter:c,date:s,range:r,is_censured:i})}).then((function(e){return e.json()})).then((function(e){t.props.postSave({chapters:e.chapters})})).catch((function(e){return console.log(e)}))}},{key:"onCreateChapter",value:function(){var e=this.state,t=e.counterCreate,a=e.chaptersCreate;if(t>=a.length)this.setState({counterCreate:0});else{var n=document.getElementsByName("ch_date")[0],c=document.getElementsByName("chapter")[0],s=a[t];c.value=s.chapter,n.value=s.date,this.setState({counterCreate:t+1})}}},{key:"padNumero",value:function(e){return String(e).padStart(2,"0")}},{key:"onPostDeleting",value:function(e){this.props.postSave({chapters:e.chapters})}},{key:"getClassRange",value:function(e){var t="bi bi-exclamation";if(null===e)return t;switch(e){case 1:t="bi bi-sort-up";break;case 2:t="bi bi-sort-down";break;case 3:t="bi bi-check"}return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.manga,n=t.chaptersCreate,c=t.chapters,s=this,r=0===n.length;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)(q,{title:"Chapters",children:[Object(x.jsxs)("button",{className:"btn btn-secondary btn-sm me-2",onClick:this.onCreateChapter,disabled:r,children:["Create (",this.state.chaptersCreate.length,")"]}),Object(x.jsx)("button",{className:"btn btn-primary btn-sm",onClick:this.onAddChapter,disabled:null===a,children:"Save"})]}),Object(x.jsxs)("form",{onSubmit:this.onAddChapter.bind(this),id:"formChapter",children:[Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Chapter",small:!0,children:Object(x.jsx)("input",{type:"text",name:"chapter",className:"form-control form-control-sm"})})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Lang",small:!0,children:Object(x.jsxs)("select",{name:"language",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"es"}),Object(x.jsx)("option",{value:"2",children:"en"}),Object(x.jsx)("option",{value:"3",children:"ja"}),Object(x.jsx)("option",{value:"4",children:"kr"}),Object(x.jsx)("option",{value:"5",children:"ch"})]})})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Date",small:!0,children:Object(x.jsx)("input",{type:"text",name:"ch_date",className:"form-control form-control-sm"})})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Range",small:!0,children:Object(x.jsxs)("select",{name:"range",className:"form-control form-control-sm",defaultValue:"2",children:[Object(x.jsx)("option",{value:"1",children:"Start"}),Object(x.jsx)("option",{value:"2",children:"End"}),Object(x.jsx)("option",{value:"3",children:"Only"})]})})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsxs)("div",{className:"form-check mt-1",children:[Object(x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"chk_censure",name:"is_censured"}),Object(x.jsx)("label",{className:"form-check-label",htmlFor:"chk_censure",children:"Is censured?"})]})})]})]}),Object(x.jsxs)("table",{className:"table table-striped",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Chapter"}),Object(x.jsx)("th",{children:"Acci\xf3n"})]})}),Object(x.jsx)("tbody",{children:c.map((function(t){var a=s.getClassRange(t.range);return Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{children:[Object(x.jsx)("span",{className:"badge bg-primary",children:t.chapter}),Object(x.jsx)("span",{className:"badge bg-secondary ms-2",children:t.language_id}),Object(x.jsx)("span",{className:"badge bg-secondary ms-2",children:t.date}),Object(x.jsx)("span",{className:"badge bg-primary ms-2",children:Object(x.jsx)("i",{className:a})})]}),Object(x.jsxs)("td",{children:[Object(x.jsx)(V,{url:"chapters/".concat(t.id),onPostDeleting:e.onPostDeleting}),Object(x.jsx)("button",{className:"btn btn-primary btn-sm ",children:Object(x.jsx)("i",{className:"bi bi-pencil"})})]})]},t.id)}))})]})]})}}]),a}(n.Component);var Y=function(e){var t=e.children;return Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:t})})},Z={headers:{Accept:"Applcation/json","Content-Type":"Application/json"}},$={save:function(e){return K.axiosInstance.post("/comics",e,Z)},update:function(e,t){return K.axiosInstance.post("/comics/".concat(e,"?_method=PUT"),t,Z)}};a(181);var ee=function(){return Object(x.jsxs)("div",{className:"mini-loader",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})},te=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!1,madure:!1},n.onGuardar=n.onGuardar.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"update",value:function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.get("name")===t.name&&a.delete("name"),e.next=3,$.update(t.id,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onGuardar",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,(a=new FormData(document.getElementById("formManga"))).append("madure",this.state.madure?1:0),!(n=this.props.comic)){e.next=11;break}return e.next=8,this.update(n,a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,$.save(a);case 13:e.t0=e.sent;case 14:c=e.t0,console.log(c),s=c.data,200===c.status?(v.a.alert(s.message),this.props.onCreated(s.id,s.comic)):console.log(c.status),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.log(e.t1);case 23:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.comic&&this.updateInterfaz()}},{key:"componentDidUpdate",value:function(e){this.props.comic!==e.comic&&this.updateInterfaz()}},{key:"updateInterfaz",value:function(){var e,t,a,n,c=this.props.comic;document.getElementsByName("name")[0].value=null!==(e=null===c||void 0===c?void 0:c.name)&&void 0!==e?e:"",document.getElementsByName("date")[0].value=null!==(t=null===c||void 0===c?void 0:c.date)&&void 0!==t?t:"",document.getElementsByName("type")[0].value=null!==(a=null===c||void 0===c?void 0:c.type)&&void 0!==a?a:1,document.getElementsByName("source")[0].value=null!==(n=null===c||void 0===c?void 0:c.source)&&void 0!==n?n:1,this.setState({madure:1===(null===c||void 0===c?void 0:c.madure)})}},{key:"render",value:function(){var e=this,t=this.props.comic,a=this.state,n=a.loading,c=a.madure,s=t?"Update":"Save";return Object(x.jsx)(Y,{children:Object(x.jsxs)("form",{id:"formManga",onSubmit:this.onGuardar,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-8",children:Object(x.jsx)("h5",{className:"card-title",children:"Detail"})}),Object(x.jsxs)("div",{className:"col-xl-4",children:[Object(x.jsx)("button",{className:"btn btn-primary btn-sm me-2",disabled:n,children:!1===n?s:Object(x.jsx)(ee,{})}),0==(null===t||void 0===t?void 0:t.exists_uuid)&&Object(x.jsx)("button",{className:"btn btn-primary btn-sm",children:"Enable uuid"})]})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsxs)("label",{className:"col-xl-2 col-form-label",children:[Object(x.jsx)("small",{children:"Name"})," "]}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("input",{name:"name",type:"text",className:"form-control form-control-sm"})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:Object(x.jsx)("small",{children:"Create date"})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)("input",{name:"date",type:"text",className:"form-control form-control-sm"})}),Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:Object(x.jsx)("small",{children:"Status"})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsxs)("select",{name:"state",type:"text",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"Progreso"}),Object(x.jsx)("option",{value:"2",children:"Terminado"}),Object(x.jsx)("option",{value:"3",children:"Hiatus"})]})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:Object(x.jsx)("small",{children:"Type"})}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsxs)("select",{name:"type",id:"",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"2",children:"Manhua"}),Object(x.jsx)("option",{value:"3",children:"Manwhua"}),Object(x.jsx)("option",{value:"4",children:"Webtoon"})]})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:Object(x.jsx)("small",{children:"+18"})}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("input",{type:"checkbox",className:"form-check-input",checked:c,onChange:function(t){return e.setState({madure:t.target.checked})}})})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("label",{htmlFor:"",className:"col-xl-2 col-form-label",children:Object(x.jsx)("small",{children:"Source"})}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsxs)("select",{name:"source",id:"",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"Original"}),Object(x.jsx)("option",{value:"2",children:"Novel"})]})})]})]})})}}]),a}(n.Component),ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onCopyImagen=n.onCopyImagen.bind(Object(h.a)(n)),n.onUploadImagen=n.onUploadImagen.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onCopyImagen",value:function(){var e=document.getElementById("imagen");navigator.permissions.query({name:"clipboard-read"}).then((function(t){"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.read().then((function(t){for(var a=0;a<t.length;a++)t[a].types.includes("image/png")?t[a].getType("image/png").then((function(t){e.src=URL.createObjectURL(t)})):alert("Clipboard contains non-image data. Unable to access it.")}))}))}},{key:"onUploadImagen",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,a=document.getElementById("imagen"),e.next=4,fetch(a.src).then((function(e){return e.blob()})).then((function(e){return new File([e],"imagen.jpg")}));case 4:return n=e.sent,t.append("file",n),t.append("manga",this.props.manga),e.next=9,fetch("http://127.0.0.1:8000/api/comic/upload",{method:"POST",headers:{Accept:"application/json"},body:t}).then((function(e){return e.json()}));case 9:if(!(c=e.sent).exception){e.next=13;break}return v.a.alert(c.message),e.abrupt("return");case 13:v.a.alert(c.data);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.imagen&&(document.getElementById("imagen").src=this.props.imagen)}},{key:"componentDidUpdate",value:function(e){this.props.imagen!==e.imagen&&(document.getElementById("imagen").src=this.props.imagen)}},{key:"render",value:function(){var e=this.props.manga;return Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"text-center comic-img__contenedor",children:[Object(x.jsx)("img",{alt:"Imagen manga",id:"imagen",className:"comic-portada rounded",src:"https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg"}),Object(x.jsx)("div",{className:"options-imagen",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col d-grid",children:Object(x.jsx)("button",{onClick:this.onCopyImagen,className:"btn btn-secondary btn-sm",children:"Copy"})}),Object(x.jsx)("div",{className:"col d-grid",children:Object(x.jsx)("button",{onClick:this.onUploadImagen,className:"btn btn-primary btn-sm",disabled:null===e,children:"Upload"})})]})})]})})})}}]),a}(n.Component);var ne=function(e){var t=e.columns,a=e.children;return Object(x.jsxs)("table",{className:"table mt-2",children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{className:"table-dark",children:t.map((function(e,t){return Object(x.jsx)("th",{children:e},t)}))})}),Object(x.jsx)("tbody",{children:a})]})},ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={links:[]},n.columns=["Link","Actions"],n.onAddChapter=n.onAddChapter.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onAddChapter",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("formLink"),n=a.elements.language.value,c=a.elements.link.value,s=a.elements.title.value,r=!1,e.next=8,fetch("http://127.0.0.1:8000/api/comic/".concat(this.props.manga,"/link"),{method:"post",headers:{Accept:"Applcation/json","Content-Type":"Application/json"},body:JSON.stringify({language:n,link:c,title:s})}).then((function(e){return e.json()})).catch((function(e){v.a.alert("Error",e),r=!0}));case 8:if(i=e.sent,!r){e.next=11;break}return e.abrupt("return");case 11:v.a.alert("Link","Creado"),this.setState({links:i.links}),this.props.onPostSave({links:i.links});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.links&&this.setState({links:this.props.links})}},{key:"componentDidUpdate",value:function(e){this.props.links!==e.links&&this.setState({links:this.props.links})}},{key:"shortLink",value:function(e){var t=e.indexOf("//"),a=e.indexOf("/",t+2);return e.substring(t+2,a)}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row mb-2",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h5",{className:"card-title",children:"Links"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{className:"btn btn-primary btn-sm",onClick:this.onAddChapter,children:"Save"})})]}),Object(x.jsxs)("form",{onSubmit:this.onAddChapter.bind(this),id:"formLink",children:[Object(x.jsxs)("div",{className:"row mb-2",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Title",children:Object(x.jsx)("input",{type:"text",name:"title",className:"form-control"})})}),Object(x.jsx)("div",{className:"col-xl-6 ",children:Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("small",{children:"Lang"})}),Object(x.jsxs)("select",{name:"language",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"es"}),Object(x.jsx)("option",{value:"2",children:"en"}),Object(x.jsx)("option",{value:"3",children:"ja"}),Object(x.jsx)("option",{value:"4",children:"kr"}),Object(x.jsx)("option",{value:"5",children:"ch"})]})]})})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-xl-12",children:Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("small",{children:"Link"})}),Object(x.jsx)("input",{type:"text",name:"link",className:"form-control form-control-sm"})]})})})]}),Object(x.jsx)(ne,{columns:this.columns,children:this.state.links.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{children:[Object(x.jsx)("a",{href:t.link,children:e.shortLink(t.link)}),Object(x.jsx)("span",{className:"badge bg-secondary ms-2",children:t.language})]}),Object(x.jsxs)("td",{children:[Object(x.jsx)("button",{className:"btn btn-danger btn-sm me-2",children:Object(x.jsx)("i",{className:"bi bi-trash"})}),Object(x.jsx)("button",{className:"btn btn-primary btn-sm ",children:Object(x.jsx)("i",{className:"bi bi-pencil"})})]})]},t.id)}))})]})}}]),a}(n.Component),se=a(13);function re(){var e=new Date;return ie(e.getDate())+"."+ie(e.getMonth()+1)+"."+e.getFullYear()}function ie(e){return String(e).padStart(2,"0")}function oe(){return(oe=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,navigator.permissions.query({name:"clipboard-read"}).then((function(e){return e.state}));case 3:if("denied"!==e.sent){e.next=7;break}return alert("Activar permiso"),e.abrupt("return",null);case 7:return e.next=9,navigator.clipboard.read().then((function(e){return e}));case 9:a=e.sent,n=0;case 11:if(!(n<a.length)){e.next=21;break}if(a[n].types.includes("image/png")){e.next=15;break}return console.log("No existe imagen"),e.abrupt("return",null);case 15:return e.next=17,a[n].getType("image/png").then((function(e){return URL.createObjectURL(e)}));case 17:t=e.sent;case 18:n++,e.next=11;break;case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],"imagen.jpg")}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de={now:re,padNumero:ie,copyImagen:function(){return oe.apply(this,arguments)},getBlobImagen:function(e){return le.apply(this,arguments)},showPopper:function(e,t){var a=document.getElementById("tooltip");if(null!==t){var n=a.firstChild;a.setAttribute("data-show",""),n.src=t,this.popper=Object(Q.a)(e.target,a,{placement:"top"})}else a.removeAttribute("data-show")}};var je=function(e){var t=e.label,a=e.children,n=e.chkId;return Object(x.jsxs)("div",{className:"form-check mt-1",children:[a,Object(x.jsx)("label",{className:"form-check-label",htmlFor:n,children:t})]})},ue={save:function(e,t){return K.axiosInstance.post("comic/".concat(e,"/gallery"),t,H)}},be=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).copyImagen=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.copyImagen();case 2:t=e.sent,document.getElementById("ga_imagen").src=t;case 4:case"end":return e.stop()}}),e)}))),n.onFocusImagen=function(){return n.copyImagen()},n.onCopyImagen=function(){return n.copyImagen()},n.state={characters:[],isReal:!0,isCensured:!1,inProcess:!1,createMarkdown:!1},n.imagenDefault="https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg",n.onCopyImagen=n.onCopyImagen.bind(Object(h.a)(n)),n.onSaveImagen=n.onSaveImagen.bind(Object(h.a)(n)),n.onChange=n.onChange.bind(Object(h.a)(n)),n.onChangeCharacter=n.onChangeCharacter.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onChangeCharacter",value:function(e){var t=e.target.value;if("0"!==t){var a=this.props.characters.find((function(e){return e.id==t}));document.getElementById("img_character").src=a.imagen}}},{key:"onSaveImagen",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=a.isCensured,c=a.isReal,s=a.createMarkdown,r=new FormData(document.getElementById("form_gallery")),e.next=5,de.getBlobImagen(document.getElementById("ga_imagen").src);case 5:return i=e.sent,r.append("is_censured",!0===n?1:0),r.append("is_real",!0===c?1:0),r.append("create_markdown",!0===s?1:0),r.append("imagen",i),this.setState({inProcess:!0}),e.prev=11,e.next=14,ue.save(this.props.manga,r);case 14:200===(o=e.sent).status&&(v.a.alert("Galery",o.data.response),this.props.onPostSave(o.data.galleries,o.data.total)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),v.a.alert("Galery","Error"),console.log(e.t0);case 22:return e.prev=22,this.setState({inProcess:!1}),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[11,18,22,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState(Object(se.a)({},e.target.name,e.target.checked))}},{key:"render",value:function(){var e=this.props,t=e.manga,a=e.characters,n=this.state,c=n.isReal,s=n.isCensured,r=n.inProcess,i=n.createMarkdown;return Object(x.jsxs)(Y,{children:[Object(x.jsx)("h5",{className:"card-title text-center bg-primary pb-1 text-light ",children:"Galery"}),Object(x.jsxs)("form",{id:"form_gallery",onSubmit:this.onSaveImagen,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-8",children:Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("img",{type:"image",name:"imagen",alt:"Imagen manga",id:"ga_imagen",className:"img-thumbnail gallery-img",src:this.imagenDefault})})}),Object(x.jsxs)("div",{className:"col-xl-4",children:[Object(x.jsx)("p",{className:"text-center mb-1",children:Object(x.jsx)("strong",{children:"Options"})}),Object(x.jsx)(je,{label:"Is Censured",chkId:"chk_censure",children:Object(x.jsx)("input",{onChange:this.onChange,checked:s,name:"isCensured",className:"form-check-input",type:"checkbox",id:"chk_censure"})}),Object(x.jsx)(je,{label:"Is real",chkId:"chk_real",children:Object(x.jsx)("input",{onChange:this.onChange,checked:c,name:"isReal",className:"form-check-input",type:"checkbox",id:"chk_real"})}),Object(x.jsx)(je,{label:"Create markdown",chkId:"markdown",children:Object(x.jsx)("input",{onChange:this.onChange,checked:i,name:"createMarkdown",className:"form-check-input",type:"checkbox",id:"markdown"})}),Object(x.jsx)("p",{className:"text-center mb-1",children:"Character"}),Object(x.jsx)("img",{alt:"character",id:"img_character",className:"img-thumbnail character-img-preview",src:this.imagenDefault})]})]}),Object(x.jsxs)("div",{className:"row mb-2 mt-2",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Chapter",small:!0,children:Object(x.jsx)("input",{onFocus:this.onFocusImagen,name:"chapter",type:"text",className:"form-control"})})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Character",small:!0,children:Object(x.jsxs)("select",{className:"form-control",name:"character",onChange:this.onChangeCharacter,children:[Object(x.jsx)("option",{value:"0",children:"Escoger ..."}),a.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})})]}),Object(x.jsx)("div",{className:"row mt-2 mb-2",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(z,{label:"Description",children:Object(x.jsx)("input",{name:"description",type:"text",className:"form-control"})})})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{type:"button",onClick:this.onCopyImagen,className:"btn btn-secondary  btn-sm",children:"Copy"})}),Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{className:"btn btn-primary btn-sm",disabled:null===t||1==r,children:"Save"})})]})]})]})}}]),a}(n.Component),he=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={tab:"chapter"},n.onClick=n.onClick.bind(Object(h.a)(n)),n.items=[{name:"Chapters",tab:"chapter",class_icon:"bi bi-book-fill"},{name:"Galery",tab:"galery",class_icon:"bi bi-file-earmark-image"},{name:"Characters",tab:"character",class_icon:"bi bi-people-fill"},{name:"Links",tab:"link",class_icon:"bi bi-link"},{name:"Markdown",tab:"markdown",class_icon:"bi bi-bookmark-check-fill"},{name:"Names",tab:"name",class_icon:"bi bi-translate"},{name:"Firebase",tab:"firebase",class_icon:"bi bi-hdd-fill"},{name:"Scanlations",tab:"scanlation",class_icon:"bi bi-hdd-fill"}],n}return Object(b.a)(a,[{key:"onClick",value:function(e){this.setState({tab:e}),this.props.onActive(e)}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)(Y,{children:Object(x.jsx)("ul",{className:"nav flex-column nav-pills",children:this.items.map((function(t,a){return Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsxs)("button",{className:e.state.tab===t.tab?"nav-link active":"nav-link",onClick:function(){return e.onClick(t.tab)},children:[Object(x.jsx)("i",{className:t.class_icon}),Object(x.jsx)("span",{className:"ms-1",children:t.name})]})},a)}))})})})}}]),a}(n.Component),me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"card",children:this.props.children.map((function(t){if(t.props.label===e.props.activeTab)return t}))})}}]),a}(n.Component),pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={galleries:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({galleries:this.props.galleries})}},{key:"componentDidUpdate",value:function(e){this.props.galleries!==e.galleries&&this.setState({galleries:this.props.galleries})}},{key:"render",value:function(){var e=this.props.total,t=this.state.galleries,a=0===t.length?"carousel-inner carousel-heigth":"carousel-inner";return Object(x.jsxs)(Y,{children:[Object(x.jsxs)("h5",{className:"card-title text-center",children:["Galleries (",t.length," / ",e,")"]}),Object(x.jsxs)("div",{id:"carousel-gallery",className:"carousel slide mb-2","data-bs-pause":"hover",children:[Object(x.jsx)("div",{className:a,children:t.map((function(e,t){return Object(x.jsx)("div",{className:0===t?"carousel-item active":"carousel-item",children:Object(x.jsxs)("figure",{className:"figure figure-carrosel",children:[Object(x.jsx)("img",{src:e.imagen,className:"comic-img-carrosel rounded",alt:""}),Object(x.jsxs)("figcaption",{className:"figure-caption text-center bg-secondary text-light font-weight-bold pb-1",children:[Object(x.jsxs)("p",{className:"mb-1",children:["Figure ",t+1,": Cap ",e.chapter]}),Object(x.jsx)("p",{className:"mb-1",children:e.description}),Object(x.jsxs)("p",{className:"mb-1",children:[Object(x.jsxs)("span",{className:"badge bg-info  me-2",children:["Is real ",e.is_real?"yes":"no"]}),Object(x.jsxs)("span",{className:"badge bg-info",children:["Is censured ",e.is_censured?"yes":"no"]})]})]})]})},e.id)}))}),Object(x.jsx)("a",{className:"carousel-control-prev",href:"#carousel-gallery",role:"button","data-slide":"prev",children:Object(x.jsx)("span",{className:"carousel-control-prev-icon bg-secondary","aria-hidden":"true"})}),Object(x.jsx)("a",{className:"carousel-control-next",href:"#carousel-gallery",role:"button","data-slide":"next",children:Object(x.jsx)("span",{className:"carousel-control-next-icon bg-secondary","aria-hidden":"true"})})]})]})}}]),a}(n.Component),Oe=a(73),ve=a(127),xe={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_APIKEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_AUTHDOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASEURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_PROJECTID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_STORAGEBUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_MESSAGINGSENDERID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-app-hobbie",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_APPID},fe=Object(ve.a)(xe),ge=Object(Oe.c)(fe),ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={comics:[]},n.onConsultar=n.onConsultar.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onConsultar",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.b)(Object(Oe.a)(ge,"comics"));case 2:t=e.sent,console.log(t.docs),t.forEach((function(e){console.log("".concat(e.id," => ").concat(e.data()))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("button",{className:"btn btn-primary",onClick:this.onConsultar,children:"Consultar"}),Object(x.jsx)("h5",{className:"card-title",children:"Firebase"}),Object(x.jsx)("ul",{children:this.state.comics.map((function(e){return Object(x.jsx)("li",{children:e.id})}))})]})}}]),a}(n.Component);var Ne=function(e){var t=e.headerConfig,a=e.name,n=e.children;return Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body pb-0",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-8",children:Object(x.jsx)("nav",{"aria-label":"breadcrumb",children:Object(x.jsxs)("ol",{className:"breadcrumb",children:[Object(x.jsx)("li",{className:"breadcrumb-item",children:Object(x.jsx)(i.b,{to:t.toBack,children:t.backName})}),Object(x.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(x.jsx)("b",{children:a})})]})})}),Object(x.jsx)("div",{className:"col-xl-4",children:n})]})})})},ke=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).columns=["Chapters","Actions"],n.state={chapter:0,markdown:null,chapters:[]},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChange=n.onChange.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.markdown;if(e){var t=JSON.parse(e.chapters);this.setState({markdown:e,chapters:t})}}},{key:"componentDidUpdate",value:function(e){var t=this.props.markdown;if(t!==e.markdown){var a=JSON.parse(t.chapters);this.setState({markdown:t,chapters:a})}}},{key:"onChange",value:function(e){this.setState(Object(se.a)({},e.target.name,e.target.value))}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=this.state,c=n.markdown,s=n.chapter,null!==c){e.next=8;break}return e.next=5,this.create(this.props.comic,s);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,this.update(c.id,s);case 10:a=e.sent;case 11:a&&(v.a.alert("Markdown chapter",a.message),r=JSON.parse(a.markdown.chapters),this.setState({markdown:a.markdown,chapters:r}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(K.makeUrl("/markdown/chapter"),{comic:t,chapter:a}).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(K.makeUrl("/markdown/chapter/"+t),{chapter:a}).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=!this.props.comic,t=this.state,a=t.chapter,n=t.chapters;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)(q,{title:"Markdown chapters",children:Object(x.jsx)("button",{disabled:e,onClick:this.onSave,className:"btn btn-primary btn-sm",children:"Save"})}),Object(x.jsx)("form",{onSubmit:this.onSave,children:Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsx)(z,{label:"chapter",children:Object(x.jsx)("input",{name:"chapter",onChange:this.onChange,value:a,type:"text",className:"form-control"})})}),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("div",{className:"form-check mt-1",children:[Object(x.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"mk_censure"}),Object(x.jsx)("label",{className:"form-check-label",for:"mk_censure",children:"Censure"})]})})]})}),Object(x.jsx)("h6",{className:"card-title mt-2",children:"Chapters"}),Object(x.jsx)("div",{className:"row row-cols-5",children:n.map((function(e,t){return Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("span",{className:"badge bg-primary",children:["Cap: ",e.chapter,Object(x.jsx)("button",{className:"btn btn-link btn-sm text-white",children:Object(x.jsx)("i",{className:"bi bi-x-circle"})})]})},t)}))})]})}}]),a}(n.Component),Ce=a(48),Se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={states:[]},n.columns=["State","Description","Chapter"],n.onSave=n.onSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(a=this.props.character)){e.next=3;break}return e.abrupt("return");case 3:if(a===t.character){e.next=8;break}return e.next=6,K.axiosInstance.get("/character/states/"+a.id).then((function(e){return e.data}));case 6:n=e.sent,this.setState({title:"Character states: ".concat(a.name),states:n.states});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("frm_ch_state"),(n=new FormData(a)).append("character",this.props.character.id),e.next=6,K.axiosInstance.post("/character/states",n,{headers:{Accept:"Applcation/json","Content-Type":"Application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),"error"}));case 6:if("error"!==(c=e.sent)){e.next=9;break}return e.abrupt("return");case 9:this.setState({states:c.states});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.states;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("form",{id:"frm_ch_state",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Name",children:Object(x.jsx)("input",{name:"name",type:"text",className:"form-control"})})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Description",children:Object(x.jsx)("input",{name:"description",type:"text",className:"form-control"})})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onSave,className:"btn btn-primary",type:"submit",children:"Save"})}),Object(x.jsx)("div",{className:"row mt-2",children:Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(z,{label:"Chapter",children:Object(x.jsx)("input",{name:"chapter",type:"text",className:"form-control"})})})})]})}),Object(x.jsx)(ne,{columns:this.columns,children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.description}),Object(x.jsx)("td",{children:e.chapter})]},e.id)}))})]})}}]),a}(n.Component),we=a(14),_e=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={modoCreate:!0},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n.dataCharacter=n.dataCharacter.bind(Object(h.a)(n)),n.onFocusName=n.onFocusName.bind(Object(h.a)(n)),n.imagen="https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg",n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.characterSelect;if(t!==e.characterSelect){var a=document.getElementById("formCharacter");if(null==t)return this.setState({modoCreate:!0}),document.getElementById("chr_imagen").src=this.imagen,a.elements.name.value="",void(a.elements.chapter.value="");this.setState({modoCreate:!1}),document.getElementById("chr_imagen").src=t.imagen,a.elements.name.value=t.name,a.elements.chapter.value=t.appear_chapter}}},{key:"dataCharacter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=new FormData(document.getElementById("formCharacter"));return null==e||Object.entries(e).forEach((function(e){var a=Object(we.a)(e,2),n=a[0],c=a[1];t.append(n,c)})),t}},{key:"limpiar",value:function(){document.getElementById("chr_imagen").src=this.imagen;var e=document.getElementById("formCharacter");e.elements.name.value="",e.elements.chapter.value="",e.elements.state.value=""}},{key:"onFocusName",value:function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.props.characterSelect){e.next=4;break}return e.next=3,de.copyImagen();case 3:document.getElementById("chr_imagen").src=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){var t=e.target.value.split(" ").map((function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}));e.target.value=t.join(" ")}},{key:"onPasteImagen",value:function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.copyImagen().then((function(e){return e}));case 2:document.getElementById("chr_imagen").src=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveCharacter",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.getBlobImagen(document.getElementById("chr_imagen").src).then((function(e){return e}));case 2:return t=e.sent,a={comic:this.props.manga,imagen:t},n=this.dataCharacter(a),e.next=7,K.axiosInstance.post("characters",n,{headers:{Accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),"error"}));case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCharacter",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.dataCharacter(),a=this.props.characterSelect,e.next=4,K.axiosInstance.post("/characters/".concat(a.id,"?_method=PUT"),t,{headers:{Accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),"error"}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.props.characterSelect){e.next=8;break}return e.next=5,this.updateCharacter();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.saveCharacter();case 10:e.t0=e.sent;case 11:if("error"!==(a=e.t0)){e.next=15;break}return v.a.alert("Character","Error"),e.abrupt("return");case 15:this.limpiar(),this.props.event("create",{characters:a.characters,charactersTotal:a.character_total});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.manga,t=this.state.modoCreate?"Save":"Update";return Object(x.jsxs)("form",{onSubmit:this.onSave,id:"formCharacter",children:[Object(x.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(x.jsxs)("div",{className:"col-xl-6",children:[Object(x.jsx)(z,{label:"Name",children:Object(x.jsx)("input",{onChange:this.onChangeName,onFocus:this.onFocusName,type:"text",name:"name",className:"form-control form-control-sm"})}),Object(x.jsx)(z,{label:"Genero",margin:!0,children:Object(x.jsxs)("select",{name:"genero",className:"form-control form-control-sm",children:[Object(x.jsx)("option",{value:"1",children:"Femenino"}),Object(x.jsx)("option",{value:"2",children:"Masculino"})]})}),Object(x.jsx)(z,{label:"Chapter",margin:!0,children:Object(x.jsx)("input",{type:"text",name:"chapter",className:"form-control form-control-sm"})}),Object(x.jsx)(z,{label:"State initial",margin:!0,children:Object(x.jsx)("input",{type:"text",name:"state",className:"form-control form-control-sm"})})]}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("img",{alt:"Character",id:"chr_imagen",className:"img-thumbnail comic-img",src:"https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg"})})})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-xl-4 offset-xl-8",children:[Object(x.jsx)("button",{type:"button",onClick:this.onPasteImagen,className:"btn btn-sm btn-secondary me-2",children:"Copy imagen"}),Object(x.jsx)("button",{className:"btn btn-primary btn-sm ",onClick:this.onSave,disabled:null===e,children:t})]})})]})}}]),a}(n.Component);var Ee=function(e){var t=1===e.genero?"F":"M";return Object(x.jsx)("span",{className:"badge bg-secondary",children:t})};var De=function(e){var t=e.characters,a=e.event;function n(e,t){a(e,t)}return Object(x.jsx)("div",{className:"row row-cols-3",children:t.map((function(e){return Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("div",{className:"imagen-character",children:[Object(x.jsxs)("div",{className:"btn-imagen bg-secondary",style:{opacity:"0.8"},children:[Object(x.jsx)("button",{onClick:function(){return n("state",e)},className:"btn btn-sm btn-link link-dark link-hover",children:Object(x.jsx)("i",{className:"bi bi-person-video2"})}),Object(x.jsx)("button",{onClick:function(){return n("create",e)},className:"btn btn-sm btn-link link-dark link-hover",children:Object(x.jsx)("i",{className:"bi bi-pencil-fill"})})]}),Object(x.jsxs)("figure",{className:"figure bg-secondary",children:[Object(x.jsx)("img",{src:e.imagen,className:"character-img figure-img mb-0",alt:"character"}),Object(x.jsxs)("figcaption",{className:"figure-caption text-center",children:[Object(x.jsxs)("span",{className:"badge p-0",style:{width:"100%"},children:[e.name," "]}),Object(x.jsxs)("span",{className:"badge",children:[" Chapter ",e.appear_chapter]}),Object(x.jsx)(Ee,{genero:e.genero})]})]})]})},e.id)}))})},Ie=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.onHide=function(){n.props.hide()},n.onHide=n.onHide.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.id,n=e.activeBody;return Object(x.jsx)("div",{className:"modal",tabIndex:"-1",role:"dialog",id:a,"data-backdrop":"static",children:Object(x.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",children:t}),Object(x.jsx)("button",{onClick:this.onHide,type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{className:"modal-body",children:this.props.children.map((function(e){if(e.props.label===n)return e}))})]})})})}}]),a}(n.Component),Ae=(a(182),{search:function(e,t){return K.axiosInstance.get("comic/".concat(t,"/character?page=1&q=").concat(e))}}),Pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={characterSelect:null,activeBody:"",titleModal:""},n.columns=["Character","Actions"],n.modal=null,n.onEventShow=n.onEventShow.bind(Object(h.a)(n)),n.onCreate=n.onCreate.bind(Object(h.a)(n)),n.onEventCreate=n.onEventCreate.bind(Object(h.a)(n)),n.onPaginate=n.onPaginate.bind(Object(h.a)(n)),n.onHideModal=n.onHideModal.bind(Object(h.a)(n)),n.onSearch=n.onSearch.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.modal=new Ce.a("#modal_character",{backdrop:"static"})}},{key:"onSearch",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("txt_search").value,e.next=4,Ae.search(a,this.props.data.comicId).then((function(e){return e.data}));case 4:n=e.sent,this.props.postSave({characters:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onPaginate",value:function(e){this.props.paginate(e)}},{key:"onCreate",value:function(){this.setState({activeBody:"create",titleModal:"Create new character"}),this.modal.show()}},{key:"onHideModal",value:function(){console.log("hide"),this.setState({characterSelect:null})}},{key:"onEventShow",value:function(e,t){this.setState({characterSelect:t,activeBody:e,titleModal:"Character ".concat(t.name)}),this.modal.show()}},{key:"onEventCreate",value:function(e,t){var a=t.charactersTotal,n=t.characters;this.props.postSave({charactersTotal:a,characters:n})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.comicId,n=t.characters,c=this.state,s=c.characterSelect,r=c.activeBody,i=c.titleModal;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)(q,{title:"Characters",children:Object(x.jsx)("div",{className:"float-end",children:Object(x.jsx)("button",{onClick:this.onCreate,className:"btn btn-sm btn-primary",children:"Create"})})}),Object(x.jsxs)(Ie,{title:i,activeBody:r,id:"modal_character",hide:this.onHideModal,children:[Object(x.jsx)(Se,{label:"state",character:s}),Object(x.jsx)(_e,{label:"create",event:this.onEventCreate,characterSelect:s,manga:a})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-3 pt-1",children:Object(x.jsxs)("span",{className:"",children:["Total ",n.data.length," / ",n.total]})}),Object(x.jsx)("div",{className:"col-xl-9",children:Object(x.jsx)("form",{onSubmit:this.onSearch,children:Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("input",{id:"txt_search",type:"text",className:"form-control form-control-sm",placeholder:"Search character"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-outline-secondary btn-sm",children:"Search"})]})})})]}),Object(x.jsx)("hr",{}),Object(x.jsx)(De,{characters:n.data,event:this.onEventShow}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-xl-12 text-center",children:[Object(x.jsx)("button",{onClick:function(){return e.onPaginate("previous")},type:"button",className:"btn btn-primary btn-sm me-3",disabled:!n.prev_page_url,children:"Anterior"}),Object(x.jsx)("button",{onClick:function(){return e.onPaginate("next")},className:"btn btn-primary btn-sm",disabled:!n.next_page_url,children:"Siguiente"})]})})]})}}]),a}(n.Component),Te=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={showData:!0,names:[]},n.columns=["Name","Language","Source"],n.onNew=n.onNew.bind(Object(h.a)(n)),n.onSave=n.onSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onNew",value:function(){this.setState({showData:!1})}},{key:"onSave",value:function(e){e.preventDefault();var t=document.getElementById("form_names"),a=new FormData(t),n=this.props.comic,c=K.axiosInstance.post("/comic/".concat(n,"/name"),a,{headers:{Accept:"Applcation/json","Content-Type":"Application/json"}}).then((function(e){return e.data})).catch((function(e){return Object(B.a)({error:!0},e)}));1!=c.error?(v.a.alert("Comic name",c.message),this.setState({name:c.names,showData:!0})):v.a.alert("Comic name","error")}},{key:"render",value:function(){var e=this.state,t=e.showData,a=e.names;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)(q,{title:"Names",children:Object(x.jsx)("button",{onClick:this.onNew,className:"btn btn-primary btn-sm",children:"New"})}),t?Object(x.jsx)(ne,{columns:this.columns,children:a.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.language}),Object(x.jsx)("td",{children:e.source})]})}))}):Object(x.jsxs)("form",{onSubmit:this.onSave,id:"form_names",children:[Object(x.jsxs)("div",{className:"row mb-2",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)(z,{label:"Name",children:Object(x.jsx)("input",{name:"name",type:"text",className:"form-control"})})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{className:"btn btn-sm btn-primary",children:"Save"})})]}),Object(x.jsxs)("div",{className:"row ",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"language",children:Object(x.jsxs)("select",{name:"language",className:"form-control",children:[Object(x.jsx)("option",{value:"1",children:"Spanish"}),Object(x.jsx)("option",{value:"2",children:"English"}),Object(x.jsx)("option",{value:"3",children:"Japanese"}),Object(x.jsx)("option",{value:"4",children:"Korean"})]})})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Source",children:Object(x.jsx)("input",{name:"source",type:"text",className:"form-control"})})})]})]})]})}}]),a}(n.Component),Be=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.id,n=a||"dj_modal";return Object(x.jsx)("div",{className:"modal",tabIndex:"-1",role:"dialog",id:n,children:Object(x.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",children:t}),Object(x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(x.jsx)("div",{className:"modal-body",children:this.props.children})]})})})}}]),a}(n.Component),Fe={headers:{Accept:"Applcation/json","Content-Type":"Application/json"}},Ue={save:function(e,t){return K.axiosInstance.post("/comic/".concat(t,"/scanlations"),e,Fe)},update:function(e,t){return K.axiosInstance.post("/comic/".concat(t,"/scanlations?_method=PUT"),e,Fe)},search:function(e){return K.axiosInstance.get("/scanlation/search?q=".concat(e))}},Me=a(96),Re=a(128),We=a.n(Re),He=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={scanlation:null,from_chapter:"",release:de.now()},n.onSubmit=n.onSubmit.bind(Object(h.a)(n)),n.onChangeScanlation=n.onChangeScanlation.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"loadOptions",value:function(e,t){e.length<4?t([]):Ue.search(e).then((function(e){t(e.data.scanlations)}))}},{key:"onSubmit",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(n=new FormData(document.getElementById("form_scanlation"))).append("scanlation",null===(a=this.state.scanlation)||void 0===a?void 0:a.value),e.next=6,Ue.save(n,this.props.comic);case 6:200===(c=e.sent).status&&(this.props.postSave({scanlations:c.data.scanlations}),We.a.fire({title:"Exitoso",text:c.data.message,icon:"success",confirmButtonText:"Cool"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeScanlation",value:function(e){this.setState({scanlation:e})}},{key:"render",value:function(){var e=this.state.release;return Object(x.jsx)(Be,{id:"modal_scanlation",title:"Create Scanlation",children:Object(x.jsxs)("form",{id:"form_scanlation",onSubmit:this.onSubmit,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Scanlation",children:Object(x.jsx)(Me.a,{loadOptions:this.loadOptions,defaultOptions:!0,cacheOptions:!0,onChange:this.onChangeScanlation})})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"From chapter",children:Object(x.jsx)("input",{name:"from_chapter",type:"text",className:"form-control"})})})]}),Object(x.jsx)("div",{className:"row mt-2",children:Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(z,{label:"Release",children:Object(x.jsx)("input",{name:"release",type:"text",className:"form-control",defaultValue:e})})})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-xl-2 offset-xl-10",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-sm btn secondary me-2",children:"Back"}),Object(x.jsx)("button",{className:"btn btn-sm btn-primary",children:"Save"})]})})]})})}}]),a}(n.Component),Le=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n.onCreate=function(){new Ce.a("#modal_scanlation").show()},n.onPostSave=function(e){return n.props.postChange(e)},n.onCreate=n.onCreate.bind(Object(h.a)(n)),n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.scanlations,a=e.comic;return Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)(q,{title:"Scanlations",children:Object(x.jsx)("button",{onClick:this.onCreate,className:"btn btn-sm btn-primary",children:"Create"})}),Object(x.jsx)(ne,{columns:["Scanlation","From chapter","Release"],children:t.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.scanlation.name}),Object(x.jsx)("td",{children:e.from_chapter}),Object(x.jsx)("td",{children:e.release})]},e.id)}))}),Object(x.jsx)(He,{comic:a,postSave:this.onPostSave})]})}}]),a}(n.Component),Ge=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={comicId:null,comic:null,imagen:null,chapters:[],scanlations:[],links:[],galleries:[],chaptersCreate:[],names:[],characters:{data:[]},totalGalleries:0,activeTab:"chapter",markdown:null,charactersTotal:0},n.onActive=n.onActive.bind(Object(h.a)(n)),n.onCopy=n.onCopy.bind(Object(h.a)(n)),n.onCreatedManga=n.onCreatedManga.bind(Object(h.a)(n)),n.onBuscarGoogle=n.onBuscarGoogle.bind(Object(h.a)(n)),n.onNewComic=n.onNewComic.bind(Object(h.a)(n)),n.onPostSaveGallery=n.onPostSaveGallery.bind(Object(h.a)(n)),n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n.onPaginateCharacter=n.onPaginateCharacter.bind(Object(h.a)(n)),n.headerConfig={toBack:"/mangas",backName:"Mangas"},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,s,r,i,o,l,j,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match).params.id){e.next=8;break}return e.next=4,fetch("http://127.0.0.1:8000/api/comics/"+t.params.id).then((function(e){return e.json()}));case 4:a=e.sent,n=a.comic,c=a.imagen,s=a.chapters,r=a.links,i=a.galleries,o=a.totalGalleries,l=a.markdown,j=a.characters,u=a.scanlations,this.setState({comic:n,comicId:n.id,imagen:c,chapters:s,links:r,galleries:i,markdown:l,characters:j,scanlations:u,totalGalleries:o});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onPostSave",value:function(e){console.log("postsave"),this.setState(e)}},{key:"onActive",value:function(e){this.setState({activeTab:e})}},{key:"onPaginateCharacter",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.characters,n=a.next_page_url,c=a.prev_page_url,s="next"===t?n:c,console.log(s,t),e.next=5,K.axiosInstance.get(s).then((function(e){return e.data}));case 5:r=e.sent,this.setState({characters:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onCreatedManga",value:function(e,t){this.setState({comicId:e,comic:t})}},{key:"onPostSaveGallery",value:function(e,t){this.setState({galleries:e,totalGalleries:t})}},{key:"onCopy",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:if(!1!==(t=e.sent).includes("\n")){e.next=5;break}return e.abrupt("return");case 5:a=t.split("\n"),n={name:a[0]},this.setState({comic:n}),(c=[]).push(this.createChapter(1,a[1])),c.push(this.createChapter(2,a[2])),this.setState({chaptersCreate:c});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBuscarGoogle",value:function(){var e,t="https://www.google.com/search?q="+(null===(e=this.state.comic)||void 0===e?void 0:e.name);window.open(t,"_blank")}},{key:"onNewComic",value:function(){this.setState({comicId:null,comic:null,imagen:null,chapters:[],links:[],galleries:[],totalGalleries:0,characters:{data:[]},markdown:null,scanlations:[]})}},{key:"createChapter",value:function(e,t){var a=t.split("-");if(!(a.length<2))return{id:e,chapter:a[0].trim(),date:a[1].trim()}}},{key:"render",value:function(){var e=this.state,t=e.comicId,a=e.comic,n=e.markdown,c=e.galleries,s=e.totalGalleries,r=this.state,i=r.characters,o=r.charactersTotal,l=r.scanlations,d=r.names,j=t?a.name:"Create Manga";return j=j.length>60?j.substring(0,50)+"...":j,Object(x.jsxs)("div",{children:[Object(x.jsxs)(Ne,{headerConfig:this.headerConfig,name:j,children:[Object(x.jsx)("button",{onClick:this.onNewComic,className:"btn btn-primary btn-sm me-2",children:"New"}),Object(x.jsx)("button",{onClick:this.onCopy,className:"btn btn-secondary btn-sm me-2",children:"Copy"}),Object(x.jsx)("button",{onClick:this.onBuscarGoogle,className:"btn btn-secondary btn-sm",children:"Search google"})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col-xl-8",children:Object(x.jsx)(te,{onCreated:this.onCreatedManga,comic:a})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(ae,{manga:t,imagen:this.state.imagen})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)(he,{onActive:this.onActive}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsxs)(me,{activeTab:this.state.activeTab,children:[Object(x.jsx)(X,{label:"chapter",manga:t,chapters:this.state.chapters,chaptersCreate:this.state.chaptersCreate,postSave:this.onPostSave}),Object(x.jsx)(ce,{label:"link",manga:t,links:this.state.links,onPostSave:this.onPostSave}),Object(x.jsx)(be,{label:"galery",manga:t,characters:i.data,onPostSave:this.onPostSaveGallery}),Object(x.jsx)(ye,{label:"firebase"}),Object(x.jsx)(ke,{label:"markdown",markdown:n,comic:t}),Object(x.jsx)(Pe,{label:"character",data:{characters:i,charactersTotal:o,comicId:t},postSave:this.onPostSave,paginate:this.onPaginateCharacter}),Object(x.jsx)(Te,{label:"name",comic:t,names:d}),Object(x.jsx)(Le,{label:"scanlation",scanlations:l,comic:t,postChange:this.onPostSave})]})}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)(pe,{galleries:c,total:s})})]})]})}}]),a}(c.a.Component);var Ke=function(e){var t=e.name,a=e.to,n=e.toName;return Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("b",{children:t})}),Object(x.jsx)("div",{className:"col-xl-1 offset-xl-9",children:Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm",to:a,children:n})})]})})})},Qe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={authors:[]},n.onQuery=n.onQuery.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(K.makeUrl("/authors")).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,this.setState({authors:a.authors});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onQuery",value:function(e){}},{key:"render",value:function(){var e=this.state.authors;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("b",{children:"Author list"})}),Object(x.jsx)("div",{className:"col-xl-3 offset-xl-2",children:Object(x.jsxs)("select",{name:"f_type",id:"",className:"form-control me-2",children:[Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"1",children:"Manga"}),Object(x.jsx)("option",{value:"1",children:"Manga"})]})}),Object(x.jsx)("div",{className:"col-xl-3",children:Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("input",{onKeyDown:this.onQuery,type:"text",className:"form-control",placeholder:"Buscar ..."}),Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("i",{className:"bi bi-search"})})]})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)(i.b,{className:"btn btn-primary",to:"/dj/create",children:"New Author"})})]})})}),Object(x.jsx)("div",{className:"row row-cols-3",children:e.map((function(e){return Object(x.jsx)("div",{className:"col",children:Object(x.jsx)("div",{className:"card mb-2 text-center",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title",children:e.name}),Object(x.jsx)(i.b,{className:"btn btn-outline-primary btn-sm me-2",to:"/dj/create/".concat(e.id),children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)("button",{className:"btn btn-outline-danger btn-sm",children:Object(x.jsx)("i",{className:"bi bi-trash"})})]})})},e.id)}))})]})}}]),a}(n.Component);var Je=function(e){var t=e.ruta,a=e.rutaName,n=e.actualName;return Object(x.jsx)("nav",{"aria-label":"breadcrumb",children:Object(x.jsxs)("ol",{className:"breadcrumb",children:[Object(x.jsx)("li",{className:"breadcrumb-item",children:Object(x.jsx)(i.b,{to:t,children:a})}),Object(x.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Object(x.jsx)("b",{children:n})})]})})},Ve=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:""},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.author;t!==e.author&&this.setState({name:null===t||void 0===t?void 0:t.name})}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(K.makeUrl("/authors"),{name:this.state.name},{Accept:"application/json","Content-type":"application/json","Access-Control-Allow-Origin":"*"}).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,n=a.message?"Exists author!":"Author save!",v.a.alert("Author",n),a.author&&this.props.postSave({name:"author",value:a.author});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this.state.name;return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Author"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onSave,className:"btn btn-primary btn-sm",children:"Save"})})]}),Object(x.jsx)("form",{className:"form-inline mt-2",onSubmit:this.onSave,children:Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:"Name"}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("input",{onChange:this.onChangeName,type:"text",className:"form-control",value:e})})]})})]})})}}]),a}(n.Component);var qe=function(){return Object(x.jsxs)("div",{id:"tooltip",className:"text-center",children:[Object(x.jsx)("img",{className:"img-comic rounded",src:"...",alt:"comic"}),Object(x.jsx)("div",{id:"arrow","data-popper-arrow":!0})]})},ze=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={works:[]},n.onHover=n.onHover.bind(Object(h.a)(n)),n.onEditWork=n.onEditWork.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.works&&this.setState({works:this.props.works})}},{key:"componentDidUpdate",value:function(e){this.props.works!==e.works&&this.setState({works:this.props.works})}},{key:"onEditWork",value:function(e){this.props.editWork(e)}},{key:"onHover",value:function(e,t){de.showPopper(e,t)}},{key:"render",value:function(){var e=this,t=this.state.works;return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Works"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{className:"btn btn-primary btn-sm","data-toggle":"modal","data-target":"#dj_modal",children:Object(x.jsx)("i",{className:"bi bi-plus"})})})]}),Object(x.jsx)(qe,{}),Object(x.jsxs)("table",{className:"table mt-2",children:[Object(x.jsx)("thead",{className:"table-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Release"}),Object(x.jsx)("th",{children:"Options"})]})}),Object(x.jsx)("tbody",{children:t.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{onClick:function(a){return e.onHover(a,t.imagen)},className:"pointer",children:Object(x.jsx)("small",{children:t.name})}),Object(x.jsx)("td",{children:Object(x.jsx)("small",{children:t.release})}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{onClick:function(){return e.onEditWork(t)},className:"btn btn-outline-primary btn-sm me-2",children:Object(x.jsx)("i",{className:"bi bi-pencil"})})})]},t.id)}))})]})]})})}}]),a}(n.Component);var Xe=function(e){var t=e.label,a=e.children,n=e.margin?"form-group row mt-2":"form-group row",c="col-xl-2 col-form-label";return c=e.small?c+" txt-small":c,Object(x.jsxs)("div",{className:n,children:[Object(x.jsx)("label",{className:c,children:t}),Object(x.jsx)("div",{className:"col-xl-10",children:a})]})},Ye={save:function(e){return K.axiosInstance.post("works",e,L)},saveLink:function(e,t){return K.axiosInstance.post("work/".concat(e,"/links"),t,H)}};var Ze=function(e){var t=this,a=Object(n.useState)({name:"",release:de.now(),pages:0,type:1}),c=Object(we.a)(a,2),s=c[0],r=c[1],i="https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg";Object(n.useEffect)((function(){e.work&&(r({name:e.work.name,release:e.work.release,pages:e.work.pages,type:e.work.type}),document.getElementById("imagen").src=e.work.imagen)}),[e.work]);var o=function(e){r(Object(se.a)({},e.target.name,e.target.value))},l=function(){var a=Object(j.a)(d.a.mark((function a(n){var c,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,de.getBlobImagen(document.getElementById("imagen").src);case 3:c=a.sent,(s=new FormData(document.getElementById("form_work_doujin"))).append("author",e.author),s.append("imagen",c),Ye.save(s).then((function(e){v.a.alert("Work",e.data.message),t.props.postSave(e.data.works)})).catch((function(e){return console.log(e)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.copyImagen();case 2:document.getElementById("imagen").src=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("form",{onSubmit:l,id:"form_work_doujin",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-xl-8",children:[Object(x.jsx)(Xe,{label:"Name",children:Object(x.jsx)("input",{name:"name",onChange:o,value:s.name,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Release",margin:"true",children:Object(x.jsx)("input",{name:"release",onChange:o,value:s.release,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Pages",margin:"true",children:Object(x.jsx)("input",{name:"pages",onChange:o,value:s.pages,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Type",margin:"true",children:Object(x.jsxs)("select",{name:"type",onChange:o,value:s.type,className:"form-control",children:[Object(x.jsx)("option",{value:"1",children:"Chapter"}),Object(x.jsx)("option",{value:"2",children:"Tantoubon"}),Object(x.jsx)("option",{value:"3",children:"History"})]})})]}),Object(x.jsxs)("div",{className:"col-xl-4",children:[Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("img",{alt:"Imagen manga",id:"imagen",className:"img-thumbnail comic-img",src:i,height:500})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{type:"button",onClick:u,className:"btn btn-secondary btn-sm",children:"Copy"})}),Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",children:"Upload"})})]})]})]}),Object(x.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end mt-2",children:[Object(x.jsx)("button",{className:"btn btn-default me-md-2 btn-sm",type:"button",children:"Algo"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Save"})]})]})};var $e=function(e){var t=Object(n.useState)(1),a=Object(we.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){null!==e.value&&s(e.value)}),[e.value]),Object(x.jsxs)("select",{name:"language",className:"form-control",onChange:function(t){s(t.target.value),e.language&&e.onChange(c)},value:c,children:[Object(x.jsx)("option",{value:"1",children:"es"}),Object(x.jsx)("option",{value:"2",children:"en"}),Object(x.jsx)("option",{value:"3",children:"ja"}),Object(x.jsx)("option",{value:"4",children:"kr"}),Object(x.jsx)("option",{value:"5",children:"ch"})]})};var et=function(e){var t=Object(n.useState)({link:"",scanlation:"",language:1,release:re()}),a=Object(we.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(we.a)(r,2),o=i[0],l=i[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("form",{id:"form_link_work",onSubmit:function(t){t.preventDefault(),l(!0);var a=new FormData(document.getElementById("form_link_work"));a.append("scanlation",c.scanlation),Ye.saveLink(e.work,a).then((function(t){e.postSave(t.data.links)})).catch((function(e){return console.log(e)})).finally((function(){return l(!1)}))},children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-6",children:Object(x.jsx)(z,{label:"Link",children:Object(x.jsx)("input",{type:"text",className:"form-control",name:"link"})})}),Object(x.jsx)("div",{className:"col-6",children:Object(x.jsx)(z,{label:"Scanlation",children:Object(x.jsx)("div",{style:{width:"76%"},children:Object(x.jsx)(Me.a,{loadOptions:function(e,t){e.length<3?t([]):Ue.search(e).then((function(e){t(e.data.scanlations)}))},defaultOptions:!0,cacheOptions:!0,onChange:function(e){return s({scanlation:e})}})})})})]}),Object(x.jsxs)("div",{className:"row mt-2",children:[Object(x.jsx)("div",{className:"col-6",children:Object(x.jsx)(z,{label:"Language",children:Object(x.jsx)($e,{})})}),Object(x.jsx)("div",{className:"col-6",children:Object(x.jsx)(z,{label:"Release",children:Object(x.jsx)("input",{type:"text",name:"language",className:"form-control",defaultValue:c.release})})})]}),Object(x.jsx)("div",{className:"row mt-2",children:Object(x.jsx)("div",{className:"col-2 offset-10 d-grid",children:Object(x.jsx)("button",{className:"btn btn-sm btn-primary",children:o?Object(x.jsx)(ee,{}):"Save"})})})]}),Object(x.jsx)(ne,{columns:["Link","Scanlation","Release","Language","Options"],children:e.links.map((function(e){return Object(x.jsx)("tr",{children:Object(x.jsx)("td",{children:e.link})})}))})]})},tt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={links:[]},n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onPostSave",value:function(e){this.props.onPostSave({name:"works",value:e})}},{key:"render",value:function(){var e=this,t=this.props.work,a=this.state.links;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(x.jsx)("li",{className:"nav-item",role:"presentation",children:Object(x.jsx)("button",{className:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true",children:"Detail"})}),Object(x.jsx)("li",{className:"nav-item",role:"presentation",children:Object(x.jsx)("button",{className:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",children:"Links"})}),Object(x.jsx)("li",{className:"nav-item",role:"presentation",children:Object(x.jsx)("button",{className:"nav-link",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false",children:"Character"})}),Object(x.jsx)("li",{className:"nav-item",role:"presentation",children:Object(x.jsx)("button",{className:"nav-link",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false",children:"Spoiler"})})]}),Object(x.jsxs)("div",{className:"tab-content mt-2",id:"myTabContent",children:[Object(x.jsx)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab",children:Object(x.jsx)(Ze,{work:t,author:this.props.author,postSave:this.onPostSave})}),Object(x.jsx)("div",{className:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab",children:Object(x.jsx)(et,{work:null===t||void 0===t?void 0:t.id,links:a,postSave:function(t){return e.setState({links:t})}})}),Object(x.jsx)("div",{className:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab",children:"..."})]})]})}}]),a}(n.Component),at="SET_DOUJIN",nt=a(97),ct=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={activeBody:"workAdd",author:null,works:[],workSelect:null},n.modal=null,n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n.onEditWork=n.onEditWork.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,this.modal=new Ce.a("#dj_modal"),void 0!==t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,R.a.get(K.makeUrl("/authors/".concat(t))).then((function(e){return e.data}));case 6:a=e.sent,n=a.author,c=a.works,this.setState({author:n,works:c}),this.props.setDoujin(n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onPostSave",value:function(e){this.setState(Object(se.a)({},e.name,e.value))}},{key:"onEditWork",value:function(e){this.setState({workSelect:e}),this.modal.show()}},{key:"render",value:function(){var e=this.state,t=e.activeBody,a=e.author,n=e.works,c=e.workSelect,s=a?a.name:"Create Doujinshi";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body pb-0",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(Je,{ruta:"/dj",rutaName:"Doujinshi",actualName:s})}),Object(x.jsx)("div",{className:"col-xl-6"})]})})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(Ve,{author:a,postSave:this.onPostSave})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(ze,{works:n,editWork:this.onEditWork})}),Object(x.jsx)(Be,{activeBody:t,title:"Work ",children:Object(x.jsx)(tt,{label:"workAdd",author:null===a||void 0===a?void 0:a.id,postSave:this.onPostSave,work:c})})]})]})}}]),a}(n.Component),st=Object(nt.b)((function(e){return{doujin:e.doujin}}),(function(e){return{setDoujin:function(t){return e({type:at,payload:t})}}}))(ct);var rt=function(e){var t=e.cosplayers;return e.onHoverPost,Object(x.jsx)("tbody",{children:t.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{}),Object(x.jsxs)("td",{children:[Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm me-2",to:"/cosplayer/create/".concat(e.id),children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)("button",{className:"btn btn-danger btn-sm",children:Object(x.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)}))})},it=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={cosplayers:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(K.makeUrl("/cosplayers")).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,this.setState({cosplayers:a.cosplayers});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cosplayers;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card mt-2",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("h6",{className:"card-title",children:"Cosplayer"})})}),Object(x.jsx)("div",{className:"card mt-2",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"All cosplayer"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)(i.b,{to:"cosplayer/create",className:"btn btn-primary btn-sm",children:"Create"})})]}),Object(x.jsxs)("table",{className:"table mt-2",children:[Object(x.jsx)("thead",{className:"table-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Works"}),Object(x.jsx)("th",{children:"Actions"})]})}),Object(x.jsx)(rt,{cosplayers:e})]})]})})]})}}]),a}(n.Component),ot=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:"",instagram:"",twitter:""},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a,n=this.props.cosplayer;n!==e.cosplayer&&(null!==n&&this.setState({name:n.name,instagram:null!==(t=n.instagram)&&void 0!==t?t:"",twitter:null!==(a=n.twitter)&&void 0!==a?a:""}))}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(K.makeUrl("/cosplayers"),{name:this.state.name,instagram:this.state.instagram,twitter:this.state.twitter},{Accept:"application/json","Content-type":"application/json","Access-Control-Allow-Origin":"*"}).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,n=a.message?"Exists cosplayer!":"Cosplayer save!",v.a.alert("Cosplayer",n),a.author&&this.props.postSave({name:"cosplayer",value:a.cosplayer});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(se.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.instagram,n=e.twitter;return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Info"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onSave,className:"btn btn-primary btn-sm",children:"Save"})})]}),Object(x.jsxs)("form",{className:"form-inline mt-2",onSubmit:this.onSave,children:[Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("label",{className:"col-xl-2 col-form-label",children:"Name"}),Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("input",{name:"name",onChange:this.onChangeName,type:"text",className:"form-control",value:t})})]}),Object(x.jsx)(Xe,{label:"Twitter",margin:"2",children:Object(x.jsx)("input",{name:"twitter",onChange:this.onChangeName,value:n,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Instagram",margin:"2",small:!0,children:Object(x.jsx)("input",{name:"instagram",onChange:this.onChangeName,value:a,type:"text",className:"form-control"})})]})]})})}}]),a}(n.Component),lt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={works:[]},n.columns=["Name","Elemnts","Release","Actions"],n.onHover=n.onHover.bind(Object(h.a)(n)),n.onPostDeleting=n.onPostDeleting.bind(Object(h.a)(n)),n.onOpenModal=n.onOpenModal.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onHover",value:function(e,t){de.showPopper(e,t)}},{key:"onPostDeleting",value:function(e){this.setState({works:e.works})}},{key:"onEditWork",value:function(e){this.props.onEditWork(e)}},{key:"onOpenModal",value:function(){this.props.onEditWork(null)}},{key:"componentDidMount",value:function(){this.props.works&&this.setState({works:this.props.works})}},{key:"componentDidUpdate",value:function(e){this.props.works!==e.works&&this.setState({works:this.props.works})}},{key:"render",value:function(){var e=this,t=this.state.works;return Object(x.jsxs)(Y,{children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Works"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onOpenModal,id:"btn_modal",className:"btn btn-primary btn-sm",children:Object(x.jsx)("i",{className:"bi bi-plus"})})})]}),Object(x.jsx)(qe,{}),Object(x.jsx)(ne,{columns:this.columns,children:t.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{onClick:function(a){return e.onHover(a,t.imagen)},className:"pointer",children:Object(x.jsx)("small",{children:t.title})}),Object(x.jsx)("td",{children:Object(x.jsx)("small",{children:t.elements})}),Object(x.jsx)("td",{children:Object(x.jsx)("small",{children:t.release})}),Object(x.jsxs)("td",{children:[Object(x.jsx)("button",{onClick:function(){return e.onEditWork(t)},className:"btn btn-primary btn-sm me-2",children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)(V,{url:"cosplayworks/"+t.id,onPostDeleting:e.onPostDeleting})]})]},t.id)}))})]})}}]),a}(n.Component),dt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={cs_title:"",cs_release:de.now(),cs_elements:0,cs_hasvideo:!1},n.columns=["Link","Origen","State","Created","Expired"],n.onChange=n.onChange.bind(Object(h.a)(n)),n.onSave=n.onSave.bind(Object(h.a)(n)),n.onCopy=n.onCopy.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.work;e&&this.init(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.work;t!==e.work&&this.init(t)}},{key:"init",value:function(e){this.setState({cs_title:e.title,cs_release:e.release,cs_elements:e.elements,cs_hasvideo:1===e.hasvideo})}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(se.a)({},a,n))}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("cs_imagen"),e.next=4,de.getBlobImagen(a.src).then((function(e){return e}));case 4:return n=e.sent,(c=new FormData).append("title",this.state.cs_title),c.append("release",this.state.cs_release),c.append("hasvideo",this.state.cs_hasvideo?1:0),c.append("elements",this.state.cs_elements),c.append("cosplayer",this.props.cosplayer),c.append("imagen",n),e.next=14,R.a.post(K.makeUrl("/cosplayworks"),c,{headers:{Accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){return e})).catch((function(e){return console.log(e)}));case 14:s=e.sent,r=s.data,v.a.alert("Work",r.process),this.props.onPostSave(r.work,r.works);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onCopy",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("cs_imagen"),e.next=3,de.copyImagen().then((function(e){return e}));case 3:t.src=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.cs_release,a=e.cs_elements,n=e.cs_title,c=e.cs_hasvideo;return Object(x.jsxs)("form",{onSubmit:this.onSave,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-xl-8",children:[Object(x.jsx)(Xe,{label:"Title",children:Object(x.jsx)("input",{name:"cs_title",value:n,onChange:this.onChange,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Release",margin:"true",children:Object(x.jsx)("input",{name:"cs_release",value:t,onChange:this.onChange,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Elements",margin:"true",children:Object(x.jsx)("input",{name:"cs_elements",value:a,onChange:this.onChange,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Has video?",margin:"true",small:!0,children:Object(x.jsx)("input",{name:"cs_hasvideo",value:c,onChange:this.onChange,type:"checkbox",className:"form-check-input mt-2"})})]}),Object(x.jsxs)("div",{className:"col-xl-4",children:[Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("img",{alt:"Imagen manga",id:"cs_imagen",className:"img-thumbnail comic-img",src:"https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg",height:500})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{type:"button",onClick:this.onCopy,className:"btn btn-secondary btn-sm",children:"Copy"})}),Object(x.jsx)("div",{className:"col-xl-6 d-grid",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",children:"Upload"})})]})]})]}),Object(x.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end mt-2",children:[Object(x.jsx)("button",{className:"btn btn-default me-md-2 btn-sm",type:"button",children:"Clear"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Save"})]})]})}}]),a}(n.Component),jt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={links:[]},n.columns=["Link","Origen","State","Created","Expired"],n.onSave=n.onSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("form_cs_link_work"),(n=new FormData(a)).append("work",this.props.work),e.next=6,R.a.post(K.makeUrl("/cs/work/links"),n).then((function(e){return e.data}));case 6:c=e.sent,console.log(c),v.a.alert("Link",c.message),this.setState({links:c.links});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.links,t=this.props.work;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("form",{id:"form_cs_link_work",method:"post",onSubmit:this.onSave,children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-7",children:Object(x.jsx)(z,{label:"Link",children:Object(x.jsx)("input",{type:"text",className:"form-control",name:"link"})})}),Object(x.jsx)("div",{className:"col-xl-3",children:Object(x.jsx)(z,{label:"Origen",children:Object(x.jsxs)("select",{name:"origen",className:"form-control",children:[Object(x.jsx)("option",{value:"1",children:"Telegram"}),Object(x.jsx)("option",{value:"2",children:"Website"})]})})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{disabled:null===t,type:"submit",className:"btn btn-primary",children:"Save"})})]})}),Object(x.jsx)(ne,{columns:this.columns,children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("a",{href:e.link,children:"Link"})}),Object(x.jsx)("td",{children:e.origen}),Object(x.jsx)("td",{children:e.created_at}),Object(x.jsx)("td",{children:e.expired})]},e.id)}))})]})}}]),a}(n.Component),ut=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={work:null,links:[]},n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.work;e&&this.setState({work:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.work;t!==e.work&&this.setState({work:t})}},{key:"onPostSave",value:function(e,t){this.setState({work:e}),this.props.onPostSave({name:"works",value:t})}},{key:"render",value:function(){var e=this.state.work;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link active","data-toggle":"tab",href:"#detail",role:"tab","aria-controls":"detail","aria-selected":"true",children:"Detail"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link","data-toggle":"tab",href:"#links",role:"tab","aria-controls":"links","aria-selected":"false",children:"Links"})})]}),Object(x.jsxs)("div",{className:"tab-content",children:[Object(x.jsx)("div",{className:"tab-pane fade show active mt-2",id:"detail",role:"tabpanel","aria-labelledby":"home-tab",children:Object(x.jsx)(dt,{work:e,cosplayer:this.props.cosplayer,onPostSave:this.onPostSave})}),Object(x.jsx)("div",{className:"tab-pane fade mt-2",id:"links",role:"tabpanel","aria-labelledby":"profile-tab",children:Object(x.jsx)(jt,{work:null===e||void 0===e?void 0:e.id})})]})]})}}]),a}(n.Component),bt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={activeBody:"workAdd",cosplayer:null,works:[],work:null},n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n.onEditWork=n.onEditWork.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.props.match.params.id)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,R.a.get(K.makeUrl("/cosplayers/".concat(t))).then((function(e){return e.data}));case 5:a=e.sent,n=a.cosplayer,c=a.works,this.setState({cosplayer:n,works:c});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showModal",value:function(){console.log("modal")}},{key:"onPostSave",value:function(e){this.setState(Object(se.a)({},e.name,e.value))}},{key:"onEditWork",value:function(e){this.setState({work:e}),new Ce.a("#dj_modal").show()}},{key:"render",value:function(){var e=this.state,t=e.activeBody,a=e.cosplayer,n=e.works,c=e.work,s=a?a.name:"Create Cosplayer",r=c?"Work: "+c.title:"Work";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body pb-0",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(Je,{ruta:"/cosplayer",rutaName:"Cosplayer",actualName:s})}),Object(x.jsx)("div",{className:"col-xl-6"})]})})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(ot,{postSave:this.onPostSave,cosplayer:a})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(lt,{onEditWork:this.onEditWork,works:n})}),Object(x.jsx)(Be,{activeBody:t,title:r,children:Object(x.jsx)(ut,{label:"workAdd",work:c,cosplayer:null===a||void 0===a?void 0:a.id,onPostSave:this.onPostSave})})]})]})}}]),a}(n.Component),ht=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={hentais:[]},n.columns=["Name","Adaptation","Actions"],n.onQuery=n.onQuery.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(K.makeUrl("/hentais")).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,this.setState({hentais:a.hentais});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onQuery",value:function(e){}},{key:"render",value:function(){var e=this.state.hentais;return Object(x.jsxs)("div",{children:[Object(x.jsx)(Ke,{name:"Hentai list",to:"hentai/create",toName:"Create"}),Object(x.jsxs)(Y,{children:[Object(x.jsx)(q,{title:"All hentais",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{onKeyDown:this.onQuery,type:"text",className:"form-control",placeholder:"Buscar ..."}),Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("i",{className:"bi bi-search"})})]})}),Object(x.jsx)(ne,{columns:this.columns,children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.adaptation}),Object(x.jsxs)("td",{children:[Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm me-2",to:"/hentai/create/".concat(e.id),children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)("button",{className:"btn btn-danger btn-sm",children:Object(x.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)}))})]})]})}}]),a}(n.Component),mt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:"",adaptation:1},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.hentai;t!==e.hentai&&(this.setState({name:t.name,adaptation:t.adaptation}),document.getElementById("hn_imagen").src=t.imagen)}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("hn_imagen"),a=document.getElementById("frm_hentai"),n=new FormData(a),e.next=5,de.getBlobImagen(t.src);case 5:return c=e.sent,n.append("imagen",c),e.next=9,R.a.post(K.makeUrl("/hentais"),n,{headers:{Accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){return e})).catch((function(e){return console.log(e)}));case 9:s=e.sent,r=s.data,v.a.alert("Hentai",r.message),r.hentai&&this.props.postSave({name:"hentai",value:r.hentai});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(se.a)({},a,n))}},{key:"onPasteImagen",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("hn_imagen"),e.next=3,de.copyImagen().then((function(e){return e}));case 3:t.src=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.name,a=e.adaptation;return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Info"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onSave,className:"btn btn-primary btn-sm",children:"Save"})})]}),Object(x.jsxs)("form",{id:"frm_hentai",className:"form-inline mt-2",method:"post",children:[Object(x.jsx)(Xe,{label:"Name",children:Object(x.jsx)("input",{name:"name",onChange:this.onChangeName,type:"text",className:"form-control",value:t})}),Object(x.jsx)(Xe,{label:"Adaptation",margin:!0,small:!0,children:Object(x.jsxs)("select",{onChange:this.onChangeName,value:a,name:"adaptation",className:"form-control",children:[Object(x.jsx)("option",{value:"1",children:"Original"}),Object(x.jsx)("option",{value:"2",children:"Manga"}),Object(x.jsx)("option",{value:"3",children:"Eroge"})]})}),Object(x.jsxs)(Xe,{label:"Imagen",margin:!0,children:[Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("img",{id:"hn_imagen",className:"img-thumbnail comic-img",src:"https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg",alt:"hentai imagen"})}),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("button",{type:"button",onClick:this.onPasteImagen,className:"btn btn-link btn-sm",children:"Paste imagen"})})]})]})]})})}}]),a}(n.Component),pt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={chapters:[]},n.columns=["Chapter","Duration","File","Actions"],n.onHover=n.onHover.bind(Object(h.a)(n)),n.onPostDeleting=n.onPostDeleting.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onHover",value:function(e,t){de.showPopper(e,t)}},{key:"onPostDeleting",value:function(e){this.setState({chapters:e.chapters})}},{key:"componentDidMount",value:function(){this.props.chapters&&this.setState({chapters:this.props.chapters})}},{key:"componentDidUpdate",value:function(e){this.props.chapters!==e.chapters&&this.setState({chapters:this.props.chapters})}},{key:"render",value:function(){var e=this,t=this.state.chapters;return Object(x.jsxs)(Y,{children:[Object(x.jsx)(q,{title:"Chapters",children:Object(x.jsx)("button",{className:"btn btn-primary btn-sm","data-toggle":"modal","data-target":"#dj_modal",children:Object(x.jsx)("i",{className:"bi bi-plus"})})}),Object(x.jsx)(qe,{}),Object(x.jsx)(ne,{columns:this.columns,children:t.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{onClick:function(a){return e.onHover(a,t.imagen)},className:"pointer",children:Object(x.jsx)("small",{children:t.chapter})}),Object(x.jsx)("td",{children:Object(x.jsx)("small",{children:t.duration})}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{className:"btn btn-link btn-sm",children:"Ver file"})}),Object(x.jsx)("td",{children:Object(x.jsx)(V,{url:"hentai/chapters/"+t.id,onPostDeleting:e.onPostDeleting})})]},t.id)}))})]})}}]),a}(n.Component),Ot=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={chapter:"",duration:"00:00"},n.onChange=n.onChange.bind(Object(h.a)(n)),n.onSave=n.onSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(se.a)({},a,n))}},{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.getElementById("form_hn_chapter"),(n=new FormData(a)).append("hentai",this.props.hentai),e.next=6,R.a.post(K.makeUrl("/hentai/chapters"),n,{headers:{Accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){return e})).catch((function(e){return console.log(e)}));case 6:(c=e.sent).data?(v.a.alert("Chapter",c.data.message),this.props.postSave({name:"chapters",value:c.data.chapters})):v.a.alert("Error",c.errors);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onFileChange",value:function(e){var t=e.target.files;if(t&&t.length){var a=new FileReader;a.onload=function(){document.getElementById("hn_imagen_chapter").src=a.result},a.readAsDataURL(t[0])}}},{key:"render",value:function(){var e=this.state,t=e.chapter,a=e.duration;return Object(x.jsxs)("form",{onSubmit:this.onSave,method:"post",id:"form_hn_chapter",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-xl-8",children:[Object(x.jsx)(Xe,{label:"Chapter",children:Object(x.jsx)("input",{name:"chapter",value:t,onChange:this.onChange,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Duration",margin:"true",children:Object(x.jsx)("input",{name:"duration",value:a,onChange:this.onChange,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"File",margin:"true",children:Object(x.jsx)("input",{onChange:this.onFileChange,name:"imagen",type:"file",accept:"image/*",className:"form-control-file"})})]}),Object(x.jsx)("div",{className:"col-xl-4",children:Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("img",{alt:"Imagen manga",id:"hn_imagen_chapter",className:"img-thumbnail comic-img",src:"https://e.rpp-noticias.io/normal/2020/10/09/133613_1007593.jpg",height:500})})})]}),Object(x.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end mt-2",children:[Object(x.jsx)("button",{className:"btn btn-default me-md-2 btn-sm",type:"button",children:"Algo"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Save"})]})]})}}]),a}(n.Component),vt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={activeBody:"workAdd",hentai:null,chapters:[]},n.headerConfig={toBack:"/hentai",backName:"Hentais"},n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.props.match.params.id)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,R.a.get(K.makeUrl("/hentais/".concat(t))).then((function(e){return e.data}));case 5:a=e.sent,n=a.hentai,c=a.chapters,this.setState({hentai:n,chapters:c});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onPostSave",value:function(e){this.setState(Object(se.a)({},e.name,e.value))}},{key:"render",value:function(){var e=this.state,t=e.activeBody,a=e.hentai,n=e.chapters,c=a?a.name:"Create Hentai";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ne,{headerConfig:this.headerConfig,name:c}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(mt,{postSave:this.onPostSave,hentai:a})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(pt,{chapters:n})}),Object(x.jsx)(Be,{activeBody:t,title:"Chapter",children:Object(x.jsx)(Ot,{label:"workAdd",hentai:null===a||void 0===a?void 0:a.id,postSave:this.onPostSave})})]})]})}}]),a}(n.Component),xt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={scanlations:[]},n.columns=["Name","Website","Actions"],n.onQuery=n.onQuery.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(K.makeUrl("/scanlations")).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.data,this.setState({scanlations:a.scanlations});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onQuery",value:function(e){}},{key:"render",value:function(){var e=this.state.scanlations;return Object(x.jsxs)("div",{children:[Object(x.jsx)(Ke,{name:"Scanlations list",to:"scanlation/create",toName:"Create"}),Object(x.jsxs)(Y,{children:[Object(x.jsx)(q,{title:"All scanlations",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{onKeyDown:this.onQuery,type:"text",className:"form-control",placeholder:"Buscar ..."}),Object(x.jsx)("span",{className:"input-group-text",children:Object(x.jsx)("i",{className:"bi bi-search"})})]})}),Object(x.jsx)(ne,{columns:this.columns,children:e.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:Object(x.jsx)("a",{href:e.website,children:"website"})}),Object(x.jsxs)("td",{children:[Object(x.jsx)(i.b,{className:"btn btn-primary btn-sm me-2",to:"/scanlation/create/".concat(e.id),children:Object(x.jsx)("i",{className:"bi bi-pencil"})}),Object(x.jsx)("button",{className:"btn btn-danger btn-sm",children:Object(x.jsx)("i",{className:"bi bi-trash"})})]})]},e.id)}))})]})]})}}]),a}(n.Component),ft=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:"",website:"",language:1,facebook:"",discord:""},n.onSave=n.onSave.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"onSave",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,s,r,i,o,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.name,n=t.website,c=t.language,s=t.facebook,r=t.discord,i=!1,e.next=4,R.a.post(K.makeUrl("/scanlations"),{name:a,website:n,language:c,facebook:s,discord:r},{Accept:"application/json","Content-type":"application/json","Access-Control-Allow-Origin":"*"}).then((function(e){return e})).catch((function(e){i=!0,console.log(e)}));case 4:if(o=e.sent,l=o.data,!i){e.next=9;break}return v.a.alert("scanlation","Error"),e.abrupt("return");case 9:j=l.message?"Exists scanlation!":"scanlation save!",v.a.alert("scanlation",j),l.author&&this.props.postSave({name:"scanlation",value:l.scanlation});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeName",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(se.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.website,n=e.language,c=e.facebook,s=e.discord;return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-10",children:Object(x.jsx)("h6",{className:"card-title",children:"Info"})}),Object(x.jsx)("div",{className:"col-xl-2",children:Object(x.jsx)("button",{onClick:this.onSave,className:"btn btn-primary btn-sm",children:"Save"})})]}),Object(x.jsxs)("form",{className:"form-inline mt-2",onSubmit:this.onSave,children:[Object(x.jsx)(Xe,{label:"Name",children:Object(x.jsx)("input",{name:"name",onChange:this.onChangeName,value:t,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Language",margin:"2",small:!0,children:Object(x.jsxs)("select",{name:"language",onChange:this.onChangeName,value:n,className:"form-control",children:[Object(x.jsx)("option",{value:"1",children:"Spanish"}),Object(x.jsx)("option",{value:"2",children:"English"})]})}),Object(x.jsx)(Xe,{label:"Website",margin:"2",children:Object(x.jsx)("input",{name:"website",onChange:this.onChangeName,value:a,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Facebook",margin:"2",small:!0,children:Object(x.jsx)("input",{name:"facebook",onChange:this.onChangeName,value:c,type:"text",className:"form-control"})}),Object(x.jsx)(Xe,{label:"Discord",margin:"2",children:Object(x.jsx)("input",{name:"discord",onChange:this.onChangeName,value:s,type:"text",className:"form-control"})})]})]})})}}]),a}(n.Component),gt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={activeBody:"workAdd",scanlation:null,works:[],work:null},n.onPostSave=n.onPostSave.bind(Object(h.a)(n)),n.onEditWork=n.onEditWork.bind(Object(h.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.props.match.params.id)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,R.a.get(K.makeUrl("/scanlations/".concat(t))).then((function(e){return e.data}));case 5:a=e.sent,n=a.scanlation,c=a.works,this.setState({scanlation:n,works:c});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showModal",value:function(){console.log("modal")}},{key:"onPostSave",value:function(e){this.setState(Object(se.a)({},e.name,e.value))}},{key:"onEditWork",value:function(e){this.setState({work:e}),new Ce.a("#dj_modal").show()}},{key:"render",value:function(){var e=this.state,t=e.activeBody,a=e.scanlation,n=e.works,c=e.work,s=a?a.name:"Create Scanlation",r=c?"Work: "+c.title:"Work";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card mb-2 mt-2",children:Object(x.jsx)("div",{className:"card-body pb-0",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(Je,{ruta:"/scanlation",rutaName:"Scanlation",actualName:s})}),Object(x.jsx)("div",{className:"col-xl-6"})]})})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(ft,{postSave:this.onPostSave})}),Object(x.jsx)("div",{className:"col-xl-6",children:Object(x.jsx)(lt,{onEditWork:this.onEditWork,works:n})}),Object(x.jsx)(Be,{activeBody:t,title:r,children:Object(x.jsx)(ut,{label:"workAdd",work:c,scanlation:null===a||void 0===a?void 0:a.id,onPostSave:this.onPostSave})})]})]})}}]),a}(n.Component),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(n.useState)(e),a=Object(we.a)(t,2),c=a[0],s=a[1],r=function(e){s((function(t){return[].concat(Object(k.a)(t),[e])}))},i=function(e){s((function(t){return t.filter((function(t,a){return a!==e}))}))},o=function(){return 0===c.length};return{value:c,setValue:s,push:r,remove:i,isEmpty:o}};function Nt(){var e=Object(n.useState)(),t=Object(we.a)(e,2),a=t[0],c=t[1],s=yt([]);return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Todo LIST"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.push(a),c("")},children:[Object(x.jsx)("input",{value:a,onChange:function(e){c(e.target.value)},placeholder:"New Task",type:"text"}),Object(x.jsx)("button",{type:"submit",children:"Create Task"})]}),s.isEmpty()?Object(x.jsx)("p",{children:"Task is empty"}):Object(x.jsx)("ul",{children:s.value.map((function(e,t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("input",{type:"checkbox",checked:!1,onClick:function(){return s.remove(t)}}),e]},t)}))})]})}var kt={theme:"dark",lang:"es"};function Ct(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object(n.useState)((function(){try{var a=localStorage.getItem(e);return null!==a?JSON.parse(a):t}catch(n){return t}})),c=Object(we.a)(a,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[s,e]),[s,r]}("config",kt),t=Object(we.a)(e,2),a=t[0],c=t[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"App Settings"}),Object(x.jsxs)("p",{children:["Actual config: ",JSON.stringify(a)]}),Object(x.jsx)("button",{type:"button",onClick:function(e){c((function(e){return Object(B.a)(Object(B.a)({},e),{},{theme:"light"})}))},children:"Save new settings"})]})}function St(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Examples"}),Object(x.jsx)(Nt,{}),Object(x.jsx)(Ct,{})]})}var wt=function(){return Object(x.jsx)("div",{className:"bg-secondary",children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(T,{}),Object(x.jsx)("div",{className:"container container-heigth me-2",children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",exact:!0,component:A}),Object(x.jsx)(o.a,{path:"/examples",exact:!0,component:St}),Object(x.jsx)(o.a,{path:"/enlaces",exact:!0,component:f}),Object(x.jsx)(o.a,{path:"/mangas",exact:!0,component:J}),Object(x.jsx)(o.a,{path:"/dj",exact:!0,component:Qe}),Object(x.jsx)(o.a,{path:"/cosplayer",exact:!0,component:it}),Object(x.jsx)(o.a,{path:"/hentai",exact:!0,component:ht}),Object(x.jsx)(o.a,{path:"/scanlation",exact:!0,component:xt}),Object(x.jsx)(o.a,{path:"/manga/create/:id?",exact:!0,component:Ge}),Object(x.jsx)(o.a,{path:"/dj/create/:id?",exact:!0,component:st}),Object(x.jsx)(o.a,{path:"/cosplayer/create/:id?",exact:!0,component:bt}),Object(x.jsx)(o.a,{path:"/hentai/create/:id?",exact:!0,component:vt}),Object(x.jsx)(o.a,{path:"/scanlation/create/:id?",exact:!0,component:gt}),Object(x.jsx)(o.a,{component:function(){return Object(x.jsx)("div",{className:"text-light",children:"Pagina no encontrada"})}})]})})]})})},_t=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,216)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},Et=a(98),Dt={doujin:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(B.a)(Object(B.a)({},e),{},{doujin:t.payload});default:return Object(B.a)({},e)}},At=Object(Et.b)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(Et.a)((function(e){return function(e){return function(t){console.log("disparando:",t),e(t)}}}))),Pt=Object(Et.c)(It,At);r.a.render(Object(x.jsx)(nt.a,{store:Pt,children:Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(wt,{})})}),document.getElementById("root")),_t()}},[[212,1,2]]]);
//# sourceMappingURL=main.33233c03.chunk.js.map